{"version":3,"sources":["components/Header.js","components/Input.js","components/Creator.js","components/Person.js","components/Numbers.js","components/Phonebook.js","components/server.js","components/Notification.js","App.js","index.js"],"names":["Header","text","Input","value","setValue","onChange","event","target","Fields","fields","map","field","name","submitFn","create","preventDefault","created","Object","fromEntries","console","log","Form","onSubmit","type","Creator","Person","number","id","remove","onClick","Persons","persons","filter","person","includes","Numbers","Filter","search","setSearch","Phonebook","url","path","axios","get","post","put","undefined","delete","Notification","message","className","App","useState","setPersons","notification","setNotification","notificationType","setNotificationType","clearNotification","setTimeout","info","msg","useEffect","server","then","res","data","newName","setNewName","found","find","p","window","confirm","updated","copy","i","findIndex","catch","_","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6OAIeA,EAFA,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAF,OAAY,6BAAKA,KCKjBC,EALD,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,SAAT,OAAuB,uBACjCD,MAAOA,EACPE,SAAU,SAAAC,GAAK,OAAIF,EAASE,EAAMC,OAAOJ,WCAvCK,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAF,OAAc,6BACzBA,EAAOC,KAAI,SAAAC,GAAK,OAAI,+BAChB,8BAAIA,EAAMC,KAAV,OACA,cAAC,EAAD,CAAOT,MAAOQ,EAAMR,MAAOC,SAAUO,EAAMP,aAFlBO,EAAMC,YAMjCC,EAAW,SAACJ,EAAQK,GAAT,OAAoB,SAAAR,GACjCA,EAAMS,iBACN,IAAMC,EAAUC,OAAOC,YACnBT,EAAOC,KAAI,SAAAC,GAAK,MAAI,CAACA,EAAMC,KAAMD,EAAMR,WAE3CgB,QAAQC,IAAI,iBAAkBJ,GAC9BF,EAAOE,KAGLK,EAAO,SAAC,GAAsB,IAArBZ,EAAoB,EAApBA,OAAQK,EAAY,EAAZA,OACnB,OAAO,uBAAMQ,SAAUT,EAASJ,EAAQK,GAAjC,UACH,cAAC,EAAD,CAAQL,OAAQA,IAChB,wBAAQc,KAAK,SAAb,qBAWOC,EAPC,SAAC,GAAsB,IAArBf,EAAoB,EAApBA,OAAQK,EAAY,EAAZA,OACtB,OAAO,gCACH,cAAC,EAAD,CAAQb,KAAK,qBACb,cAAC,EAAD,CAAMQ,OAAQA,EAAQK,OAAQA,QCjBvBW,EAXA,SAAC,GAAgC,IAA/Bb,EAA8B,EAA9BA,KAAMc,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,OAC/B,OAAO,gCACH,4BAAIhB,IACJ,4BAAIc,IACJ,wBAAQG,QAAS,SAACvB,GACdA,EAAMS,iBACNa,EAAOD,IAFX,wBCFFG,EAAU,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASC,EAAX,EAAWA,OAAQJ,EAAnB,EAAmBA,OAAnB,OAA+B,6BAC3CG,EACKC,QAAO,SAAAC,GAAM,OAAIA,EAAOrB,KAAKsB,SAASF,MACtCtB,KAAI,SAAAuB,GAAM,OAAI,6BAAoB,cAAC,EAAD,2BAAYA,GAAZ,IAAoBL,OAAQA,MAAvCK,EAAON,UAUxBQ,EAPC,SAAC,GAA+B,IAA9BJ,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,OAAQJ,EAAY,EAAZA,OAC/B,OAAO,gCACH,cAAC,EAAD,CAAQ3B,KAAK,YACb,cAAC,EAAD,CAAS8B,QAASA,EAASC,OAAQA,EAAQJ,OAAQA,QCTrDQ,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,UAAV,OAAyB,gCACpC,kDACA,cAAC,EAAD,CAAOnC,MAAOkC,EAAQjC,SAAUkC,QAUrBC,EAPG,SAAC,GAAyB,IAAxBF,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,UACxB,OAAO,gCACH,cAAC,EAAD,CAAQrC,KAAK,cACb,cAAC,EAAD,CAAQoC,OAAQA,EAAQC,UAAWA,Q,gBCVrCE,EAAM,SAAAC,GAAI,oBAAWA,IAcZ,EAZA,kBAAMC,IAAMC,IAAIH,EAAI,cAYpB,EAVF,SAAAP,GAAM,OAAIS,IAAME,KAAKJ,EAAI,YAAaP,IAUpC,EARH,SAACA,EAAQN,GAAT,OAAgBe,IAAMG,IAAIL,EAAI,YAAD,OAAab,IAAOM,IAQ9C,EANH,SAAAN,GACR,GAAU,OAAPA,QAAsBmB,IAAPnB,EACd,OAAOe,IAAMK,OAAOP,EAAI,YAAD,OAAab,MCE7BqB,G,MAVM,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,QAAS1B,EAAU,EAAVA,KAC5B,MAAgB,KAAZ0B,EACO,qBAAKC,UAAW3B,EAAhB,SACF0B,IAGE,0BC+EAE,EAjFH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACPrB,EADO,KACEsB,EADF,OAG0BD,mBAAS,IAHnC,mBAGPE,EAHO,KAGOC,EAHP,OAIkCH,mBAAS,IAJ3C,mBAIPI,EAJO,KAIWC,EAJX,KAMRC,EAAoB,kBAAMC,YAAW,kBAAMJ,EAAgB,MAAK,MAChEK,EAAO,SAAAC,GACTN,EAAgBM,GAChBJ,EAAoB,QACpBC,KA0CJI,qBAAU,WACNC,IAAgBC,MAAK,SAAAC,GAAG,OAAIZ,EAAWY,EAAIC,WAC5C,IAtDW,MAwDcd,mBAAS,IAxDvB,mBAwDPf,EAxDO,KAwDCC,EAxDD,OA0DgBc,mBAAS,IA1DzB,mBA0DPe,EA1DO,KA0DEC,EA1DF,OA2DoBhB,mBAAS,IA3D7B,mBA6DR3C,EAAS,CACX,CACIG,KAAM,OACNT,MAAOgE,EACP/D,SAAUgE,GACX,CACCxD,KAAM,SACNT,MApEM,KAqENC,SArEM,OAyEd,OAAO,gCACH,cAAC,EAAD,CAAc6C,QAASK,EAAc/B,KAAMiC,IAC3C,cAAC,EAAD,CAAWnB,OAAQA,EAAQC,UAAWA,IACtC,cAAC,EAAD,CAAS7B,OAAQA,EAAQK,OA1DX,SAACmB,GACf,IAAMoC,EAAQtC,EAAQuC,MAAK,SAAAC,GAAC,OAAIA,EAAE3D,OAASqB,EAAOrB,QAC9CyD,EACIG,OAAOC,QAAQ,iBACfV,EAAW9B,EAAQoC,EAAM1C,IAAIqC,MAAK,SAAAU,GAC9B,IAAIC,EAAI,YAAO5C,GACT6C,EAAID,EAAKE,WAAU,SAAAN,GAAC,OAAIA,EAAE5C,KAAO+C,EAAQ/C,MAC/CgD,EAAKC,GAAKF,EACVrB,EAAWsB,GACXf,EAAK,mBAIbG,EAAY9B,GAAQ+B,MAAK,SAAAhD,GACrB,IAAM2D,EAAI,sBAAO5C,GAAP,gBAAqBf,KAC/BG,QAAQC,IAAI,qBAAsBuD,GAClCtB,EAAWsB,GACXf,EAAK,sBA0Cb,cAAC,EAAD,CAAS7B,QAASA,EAASC,OAAQK,EAAQT,OArC1B,SAAAD,GACjB,GAAI6C,OAAOC,QAAP,gBAAgC,CAChCV,EACSpC,GACJqC,MAAK,kBAAMJ,EAAK,mBAChBkB,OAAM,SAAAC,GAAC,OAhChBxB,EAgCwB,mCA/BxBE,EAAoB,cACpBC,OA+BI,IAAMiB,EAAO5C,EAAQC,QAAO,SAAAC,GAAM,OAAIA,EAAON,KAAOA,KACpD0B,EAAWsB,WClDvBK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.a1df55d7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Header = ({text}) => <h2>{text}</h2>\n\nexport default Header\n","import React from 'react'\n\nconst Input = ({value, setValue}) => <input\n    value={value}\n    onChange={event => setValue(event.target.value)}\n/>\n\nexport default Input\n","import React from 'react'\nimport Header from './Header'\nimport Input from './Input'\n\nconst Fields = ({fields}) => <ul>{\n    fields.map(field => <li key={field.name}>\n        <p>{field.name}:</p>\n        <Input value={field.value} setValue={field.setValue} />\n    </li>)\n}</ul>\n\nconst submitFn = (fields, create) => event => {\n    event.preventDefault()\n    const created = Object.fromEntries(\n        fields.map(field => [field.name, field.value])\n    )\n    console.log('form submitted', created)\n    create(created)\n}\n\nconst Form = ({fields, create}) => {\n    return <form onSubmit={submitFn(fields, create)}>\n        <Fields fields={fields} />\n        <button type=\"submit\">add</button>\n    </form>\n}\n\nconst Creator = ({fields, create}) => {\n    return <div>\n        <Header text='add a new person' />\n        <Form fields={fields} create={create} />\n    </div>\n}\n\nexport default Creator\n","import React from 'react'\n\nconst Person = ({name, number, id, remove}) => {\n    return <div>\n        <p>{name}</p>\n        <p>{number}</p>\n        <button onClick={(event) => {\n            event.preventDefault()\n            remove(id)\n        }}>delete</button>\n    </div>\n}\n\nexport default Person\n","import React from 'react'\nimport Header from './Header'\nimport Person from './Person'\n\nconst Persons = ({persons, filter, remove}) => <ul>{\n    persons\n        .filter(person => person.name.includes(filter))\n        .map(person => <li key={person.id}><Person {...person} remove={remove} /></li> )\n}</ul>\n\nconst Numbers = ({persons, filter, remove}) => {\n    return <div>\n        <Header text='Numbers' />\n        <Persons persons={persons} filter={filter} remove={remove} />\n    </div>\n}\n\nexport default Numbers\n","import React from 'react'\nimport Header from './Header'\nimport Input from './Input'\n\nconst Filter = ({search, setSearch}) => <div>\n    <p>filter shown with</p>\n    <Input value={search} setValue={setSearch} />\n</div>\n\nconst Phonebook = ({search, setSearch}) => {\n    return <div>\n        <Header text='Phonebook' />\n        <Filter search={search} setSearch={setSearch} />\n    </div>\n}\n\nexport default Phonebook\n","import axios from 'axios'\n\nconst url = path => `/api${path}`\n\nconst getAll = () => axios.get(url('/persons'))\n\nconst post = person => axios.post(url('/persons'), person)\n\nconst put = (person, id) => axios.put(url(`/persons/${id}`), person)\n\nconst del = id => { \n    if(id !== null && id !== undefined) {\n        return axios.delete(url(`/persons/${id}`))\n    } \n}\n\nexport default {\n    getAll: getAll,\n    post: post,\n    put: put,\n    del: del\n}\n","import React from 'react'\n\nimport './notification.css'\n\nconst Notification = ({message, type}) => {\n    if (message !== '') {\n        return <div className={type} >\n            {message}\n        </div>\n    } else {\n        return <div />\n    }\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\n\nimport Creator from './components/Creator'\nimport Numbers from './components/Numbers'\nimport Phonebook from './components/Phonebook'\nimport server from './components/server'\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n\n    const [notification, setNotification] = useState('')\n    const [notificationType, setNotificationType] = useState('')\n\n    const clearNotification = () => setTimeout(() => setNotification(''), 5000)\n    const info = msg => {\n        setNotification(msg)\n        setNotificationType('info')\n        clearNotification()\n    }\n    const err = msg => {\n        setNotification(msg)\n        setNotificationType('error')\n        clearNotification()\n    }\n\n    const addPerson = (person) => {\n        const found = persons.find(p => p.name === person.name)\n        if (found) {\n            if (window.confirm('update user?')) {\n                server.put(person, found.id).then(updated => {\n                    let copy = [...persons]\n                    const i = copy.findIndex(p => p.id === updated.id)\n                    copy[i] = updated\n                    setPersons(copy)\n                    info('updated user')\n                })\n            }\n        } else {\n            server.post(person).then(created => {\n                const copy = [...persons, { ...created }]\n                console.log('setting persons to', copy)\n                setPersons(copy)\n                info('created user')\n            })\n        }\n    }\n\n    const deletePerson = id => {\n        if (window.confirm(`delete user?`)) {\n            server\n                .del(id)\n                .then(() => info('deleted user'))\n                .catch(_ => err('person does not exist on server'))\n            const copy = persons.filter(person => person.id !== id)\n            setPersons(copy)\n            \n        }\n    }\n\n    useEffect(() => {\n        server.getAll().then(res => setPersons(res.data))\n    }, [])\n\n    const [search, setSearch] = useState('')\n\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n\n    const fields = [\n        {\n            name: 'name',\n            value: newName,\n            setValue: setNewName\n        }, {\n            name: 'number',\n            value: newNumber,\n            setValue: setNewNumber\n        }\n    ]\n\n    return <div>\n        <Notification message={notification} type={notificationType} />\n        <Phonebook search={search} setSearch={setSearch} />\n        <Creator fields={fields} create={addPerson} />\n        <Numbers persons={persons} filter={search} remove={deletePerson} />\n    </div>\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}