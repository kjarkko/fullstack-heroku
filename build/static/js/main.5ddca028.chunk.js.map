{"version":3,"sources":["database.js","personForm.js","searchForm.js","app.js","index.js"],"names":["URL","get","set","fn","axios","concat","then","response","console","log","data","persons","useEffect","msgStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Message","_ref","msg","react_default","a","createElement","style","PersonForm","_ref2","setPersons","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNum","setNewNum","_useState5","_useState6","message","setMessage","onSubmit","event","preventDefault","obj","person","name","number","some","p","prompt","window","confirm","filter","post","res","personForm_Message","setTimeout","value","onChange","target","type","SearchForm","results","setResults","text","includes","map","key","Person","rm","onClick","Persons","app_Person","_ref3","ReactDOM","render","searchForm_SearchForm","personForm_PersonForm","app_Persons","id","delete","del","catch","err","app_Message","document","getElementById"],"mappings":"gMAIMA,EAAM,eAICC,EAAM,SAACC,GAFL,IAACC,IAGP,WACLC,IACCH,IAAID,EAAIK,OAAO,OACfC,KAAK,SAAAC,GACJC,QAAQC,IAAIF,GACZL,EAAIK,EAASG,KAAKC,YARDC,oBAAUT,EAAG,KCH9BU,EAAW,CACfC,MAAO,QACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAEVC,EAAU,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,IAAF,OAAYC,EAAAC,EAAAC,cAAA,OAAKC,MAAOd,GAAYU,IAOvCK,EAAa,SAAAC,GAA2B,IAAzBlB,EAAyBkB,EAAzBlB,QAASmB,EAAgBD,EAAhBC,WAAgBC,EAGpBC,mBAFZ,QADgCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAG5CK,EAH4CH,EAAA,GAGnCI,EAHmCJ,EAAA,GAAAK,EAItBN,mBAFX,UAFiCO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAI5CE,EAJ4CD,EAAA,GAIpCE,EAJoCF,EAAA,GAAAG,EAKtBV,mBAAS,MALaW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAK7CE,EAL6CD,EAAA,GAKpCE,EALoCF,EAAA,GAmCpD,OACEnB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACDkB,EACCpB,EAAAC,EAAAC,cAAA,QAAMoB,SAhCQ,SAACC,GACjBA,EAAMC,iBACN,IDNiBC,ECRJ1B,EAAKrB,EAcZgD,EAAS,CACbC,KAAMf,EACNgB,OAAQZ,GAEV,GAAI7B,EAAQ0C,KAAK,SAAAC,GAAC,OAAIA,EAAEH,OAASD,EAAOC,OAAM,CAE9C,IAAMI,EAAM,GAAAlD,OAAM+B,EAAN,yDACToB,OAAOC,QAAQF,IACjBzB,EACCnB,EAAQ+C,OAAO,SAAAJ,GAAC,OAAIA,EAAEH,OAASD,EAAOC,OAAM9C,OAAO6C,SAIrDpB,EAAWnB,EAAQN,OAAO6C,IDnBTD,ECoBZC,EDnBP9C,IAAMuD,KAAK3D,EAAKiD,GAAK3C,KAAK,SAAAsD,GAAG,OAAIpD,QAAQC,IAAImD,KCoB3CvB,EAvBkB,QAwBlBI,EAvBiB,UAPJlB,EAgCR,gBAAAlB,OAAc6C,EAAOC,OAhCRjD,EAgCgB2C,GA/BhCrB,EAAAC,EAAAC,cAACmC,EAAD,CAAStC,IAAKA,KAClBuC,WAAW,kBAAM5D,EAAI,OAAO,OA2CtBsB,EAAAC,EAAAC,cAAA,SAAOqC,MAAO3B,EAAS4B,SAXF,SAACjB,GAC1BV,EAAWU,EAAMkB,OAAOF,UAWpBvC,EAAAC,EAAAC,cAAA,SAAOqC,MAAOvB,EAAQwB,SATJ,SAACjB,GACvBN,EAAUM,EAAMkB,OAAOF,UASnBvC,EAAAC,EAAAC,cAAA,UAAQwC,KAAK,UAAb,kBC1DMC,EAAa,SAAA7C,GAAe,IAAbX,EAAaW,EAAbX,QAAaoB,EACPC,mBAAS,IADFC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC/BqC,EAD+BnC,EAAA,GACtBoC,EADsBpC,EAAA,GAYvC,OACET,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,SAAOsC,SAbU,SAACjB,GACpB,IAAMuB,EAAOvB,EAAMkB,OAAOF,MAExBM,EADU,KAATC,EACU,GAEA3D,EAAQ+C,OACjB,SAAAJ,GAAC,OAAIA,EAAEH,KAAKoB,SAASD,IAAShB,EAAEF,OAAOmB,SAASD,SAQlD9C,EAAAC,EAAAC,cAAA,UACG0C,EAAQI,IAAI,SAAAZ,GAAG,OAAIpC,EAAAC,EAAAC,cAAA,MAAI+C,IAAKb,EAAIT,MAAb,IAAsBS,EAAIT,KAA1B,IAAiCS,EAAIR,OAArC,UCftBsB,EAAS,SAAApD,GAAA,IAAE4B,EAAF5B,EAAE4B,OAAQyB,EAAVrD,EAAUqD,GAAV,OACbnD,EAAAC,EAAAC,cAAA,UACGwB,EAAOC,KADV,IACiBD,EAAOE,OACtB5B,EAAAC,EAAAC,cAAA,UAAQkD,QAAS,kBAAMD,EAAGzB,KAA1B,YAIE2B,EAAU,SAAAhD,GAAmB,IAAjBlB,EAAiBkB,EAAjBlB,QAASgE,EAAQ9C,EAAR8C,GACzB,OACEnD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UACGf,EAAQ6D,IAAI,SAAAtB,GAAM,OAAI1B,EAAAC,EAAAC,cAACoD,EAAD,CAAQL,IAAKvB,EAAOC,KAAMD,OAAQA,EAAQyB,GAAIA,SAWvE9D,EAAW,CACfC,MAAO,MACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAEVC,EAAU,SAAA0D,GAAA,IAAExD,EAAFwD,EAAExD,IAAF,OAAYC,EAAAC,EAAAC,cAAA,OAAKC,MAAOd,GAAYU,ICjCpDyD,IAASC,OAAOzD,EAAAC,EAAAC,cDmCG,WAAM,IAAAK,EACQC,mBAAS,IADjBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACfpB,EADesB,EAAA,GACNH,EADMG,EAAA,GAAAK,EAEON,mBAAS,MAFhBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEhBM,EAFgBL,EAAA,GAEPM,EAFON,EAAA,GAGvBtC,EAAI6B,GAYJ,OACEN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACCkB,EACDpB,EAAAC,EAAAC,cAACwD,EAAD,CAAYvE,QAASA,IACrBa,EAAAC,EAAAC,cAACyD,EAAD,CAAYxE,QAASA,EAASmB,WAAYA,IAC1CN,EAAAC,EAAAC,cAAC0D,EAAD,CAASzE,QAASA,EAASgE,GAhBpB,SAAAzB,GACT,GAAIM,OAAOC,QAAP,gBAAApD,OAA+B6C,EAAOC,OAA1C,CAEA,IAAMkC,EAAKnC,EAAOmC,GAClBvD,EAAWnB,EAAQ+C,OAAO,SAAAJ,GAAC,OAAIA,EAAE+B,IAAMA,KHvBxB,SAAAA,GAAE,OACnBjF,IAAMkF,OAAOtF,EAAIK,OAAJ,GAAAA,OAAcgF,KAAO/E,KAAK,SAAAsD,GAAG,OAAIpD,QAAQC,IAAImD,KGuBxD2B,CAAIF,GAAIG,MAAM,SAAAC,GA1BH,IAAClE,EAAKrB,EAALqB,EA2BJ,GAAAlB,OAAI6C,EAAOC,KAAX,qBA3BSjD,EA2B0B2C,GA1BzCrB,EAAAC,EAAAC,cAACgE,EAAD,CAASnE,IAAKA,KAClBuC,WAAW,kBAAM5D,EAAI,OAAO,aCrBd,MACdyF,SAASC,eAAe","file":"static/js/main.5ddca028.chunk.js","sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport {useEffect} from 'react'\n\nconst URL = '/api/persons'\n\nconst effect = (fn) => useEffect(fn,[])\n\nexport const get = (set) => {\n  effect(() => {\n    axios\n    .get(URL.concat('db'))\n    .then(response => {\n      console.log(response)\n      set(response.data.persons)\n    })\n  })\n}\n\nexport const put = obj => \n  axios.put(URL, obj).then(res => console.log(res))\n\nexport const post = obj => \n\taxios.post(URL, obj).then(res => console.log(res))\n\nexport const del = id => \n  axios.delete(URL.concat(`${id}`)).then(res => console.log(res))\n\n","import React, { useState } from 'react'\nimport {post} from './database'\n\nconst msgStyle = {\n  color: 'green',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px',\n}\nconst Message = ({msg}) => (<div style={msgStyle} >{msg}</div>)\n\nconst prompt = (msg, set) => {\n\tset(<Message msg={msg} />)\n\tsetTimeout(() => set(null), 5000)\n}\n\nexport const PersonForm = ({persons, setPersons}) => {\n\tconst defaultName = 'nimi'\n\tconst defaultNum = 'numero'\n\tconst [ newName, setNewName ] = useState(defaultName)\n\tconst [ newNum, setNewNum ] = useState(defaultNum)\n\tconst [message, setMessage] = useState(null)\n      \n\tconst addPerson = (event) => {\n\t  event.preventDefault()\n\t  const person = {\n\t    name: newName,\n\t    number: newNum\n\t  }\n\t  if (persons.some(p => p.name === person.name)){\n\t\t\t//alert(`${newName} on jo luettelossa`)\n\t\t\tconst prompt = `${newName} on jo luettelossa, korvataanko vanha numero uudella?`\n\t\t\tif(window.confirm(prompt))\n\t\t\t\tsetPersons(\n\t\t\t\t\tpersons.filter(p => p.name !== person.name).concat(person)\n\t\t\t\t)\n\t\t\t\n\t  }else{\n\t\t\tsetPersons(persons.concat(person))\n\t\t\tpost(person)\n\t\t\tsetNewName(defaultName)\n\t\t\tsetNewNum(defaultNum)\n\t\t}\n\t\tprompt(`Lisättiin ${person.name}`, setMessage)\n\t}\n\tconst handlePersonChange = (event) => {\n\t  setNewName(event.target.value)\n\t}\n\tconst handleNumChange = (event) => {\n\t  setNewNum(event.target.value)\n\t}\n\treturn(\n\t  <div>\n\t    <h3>Uusi henkilö</h3>\n\t\t\t{message}\n\t    <form onSubmit={addPerson}>\n\t      <input value={newName} onChange={handlePersonChange} /> \n\t      <input value={newNum} onChange={handleNumChange} /> \n\t      <button type=\"submit\">lisää</button>\n\t    </form>\n\t  </div>\n\t)\n}","import React, { useState } from 'react'\n\n\nexport const SearchForm = ({persons}) => {\n  const [ results, setResults ] = useState([])\n  const handleChange = (event) => {\n    const text = event.target.value\n    if(text === ''){\n      setResults([])\n    }else{\n      setResults(persons.filter(\n        p => p.name.includes(text) || p.number.includes(text))\n      )\n    }\n  }\n  return (\n    <div>\n      <h3>Etsi</h3>\n      <input onChange={handleChange} />\n      <ul>\n        {results.map(res => <li key={res.name} > {res.name} {res.number} </li>)}\n      </ul>\n    </div>\n  )\n}","import React, { useState, useEffect } from 'react'\nimport {PersonForm} from './personForm'\nimport {SearchForm} from './searchForm'\nimport {get, del} from './database'\n\nconst Person = ({person, rm}) => (\n  <li> \n    {person.name} {person.number}\n    <button onClick={() => rm(person)} >poista</button> \n  </li>\n)\n\nconst Persons = ({persons, rm}) => {\n  return (\n    <div>\n      <h3>Numerot</h3>\n      <ul>\n        {persons.map(person => <Person key={person.name} person={person} rm={rm} />)}\n      </ul>\n    </div>\n  )\n}\n\nconst prompt = (msg, set) => {\n  set(<Message msg={msg} />)\n  setTimeout(() => set(null), 5000)\n}\n    \nconst msgStyle = {\n  color: 'red',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px',\n}\nconst Message = ({msg}) => (<div style={msgStyle} >{msg}</div>)\n\nexport const App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [message, setMessage] = useState(null)\n  get(setPersons)\n\n  const rm = person => {\n    if(!window.confirm(`poistetaanko ${person.name}`))\n      return\n    const id = person.id\n    setPersons(persons.filter(p => p.id != id))\n    del(id).catch(err =>{\n      prompt(`${person.name} already deleted`, setMessage)\n    })\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      {message}\n      <SearchForm persons={persons} />\n      <PersonForm persons={persons} setPersons={setPersons} />\n      <Persons persons={persons} rm={rm} />\n    </div>\n  )\n\n}\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {App} from './app'\n\nReactDOM.render(<App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}