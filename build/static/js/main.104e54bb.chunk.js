(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(11),u=t.n(o),c=t(2),l=t(3),i=t.n(l),m="/api/persons/",s=function(e){var n;n=function(){i.a.get(m).then(function(n){console.log(n),e(n.data)})},Object(a.useEffect)(n,[])},f={color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},d=function(e){var n=e.msg;return r.a.createElement("div",{style:f},n)},p=function(e){var n=e.persons,t=e.setPersons,o=Object(a.useState)("nimi"),u=Object(c.a)(o,2),l=u[0],s=u[1],f=Object(a.useState)("numero"),p=Object(c.a)(f,2),E=p[0],b=p[1],v=Object(a.useState)(null),g=Object(c.a)(v,2),h=g[0],j=g[1];return r.a.createElement("div",null,r.a.createElement("h3",null,"Uusi henkil\xf6"),h,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a,o,u,c={name:l,number:E};if(n.some(function(e){return e.name===c.name})){var f="".concat(l," on jo luettelossa, korvataanko vanha numero uudella?");window.confirm(f)&&t(n.filter(function(e){return e.name!==c.name}).concat(c))}else t(n.concat(c)),a=c,i.a.post(m,a).then(function(e){return console.log(e)}),s("nimi"),b("numero");o="Lis\xe4ttiin ".concat(c.name),(u=j)(r.a.createElement(d,{msg:o})),setTimeout(function(){return u(null)},5e3)}},r.a.createElement("input",{value:l,onChange:function(e){s(e.target.value)}}),r.a.createElement("input",{value:E,onChange:function(e){b(e.target.value)}}),r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},E=function(e){var n=e.persons,t=Object(a.useState)([]),o=Object(c.a)(t,2),u=o[0],l=o[1];return r.a.createElement("div",null,r.a.createElement("h3",null,"Etsi"),r.a.createElement("input",{onChange:function(e){var t=e.target.value;l(""===t?[]:n.filter(function(e){return e.name.includes(t)||e.number.includes(t)}))}}),r.a.createElement("ul",null,u.map(function(e){return r.a.createElement("li",{key:e.name}," ",e.name," ",e.number," ")})))},b=function(e){var n=e.person,t=e.rm;return r.a.createElement("li",null,n.name," ",n.number,r.a.createElement("button",{onClick:function(){return t(n)}},"poista"))},v=function(e){var n=e.persons,t=e.rm;return r.a.createElement("div",null,r.a.createElement("h3",null,"Numerot"),r.a.createElement("ul",null,n.map(function(e){return r.a.createElement(b,{key:e.name,person:e,rm:t})})))},g={color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},h=function(e){var n=e.msg;return r.a.createElement("div",{style:g},n)};u.a.render(r.a.createElement(function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(null),l=Object(c.a)(u,2),f=l[0],d=l[1];s(o);return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),f,r.a.createElement(E,{persons:t}),r.a.createElement(p,{persons:t,setPersons:o}),r.a.createElement(v,{persons:t,rm:function(e){if(window.confirm("poistetaanko ".concat(e.name))){var n=e.id;o(t.filter(function(e){return e.id!=n})),function(e){return i.a.delete(m.concat("".concat(e))).then(function(e){return console.log(e)})}(n).catch(function(n){var t,a;t="".concat(e.name," already deleted"),(a=d)(r.a.createElement(h,{msg:t})),setTimeout(function(){return a(null)},5e3)})}}}))},null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.104e54bb.chunk.js.map