{"version":3,"sources":["database.js","personForm.js","searchForm.js","app.js","index.js"],"names":["URL","get","set","fn","axios","then","response","console","log","data","persons","useEffect","msgStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Message","_ref","msg","react_default","a","createElement","style","PersonForm","_ref2","setPersons","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNum","setNewNum","_useState5","_useState6","message","setMessage","onSubmit","event","preventDefault","obj","person","name","number","some","p","prompt","concat","window","confirm","filter","post","res","personForm_Message","setTimeout","value","onChange","target","type","SearchForm","results","setResults","text","includes","map","key","Person","rm","onClick","Persons","app_Person","_ref3","ReactDOM","render","searchForm_SearchForm","personForm_PersonForm","app_Persons","id","delete","del","catch","err","app_Message","document","getElementById"],"mappings":"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","file":"static/js/main.eb16b174.chunk.js","sourcesContent":["import axios from 'axios'\nimport React from 'react'\nimport {useEffect} from 'react'\n\nconst URL = '/api/persons'\n\nconst effect = (fn) => useEffect(fn,[])\n\nexport const get = (set) => {\n  effect(() => {\n    axios\n    .get(URL)\n    .then(response => {\n      console.log(response)\n      set(response.data.persons)\n    })\n  })\n}\n\nexport const put = obj => \n  axios.put(URL, obj).then(res => console.log(res))\n\nexport const post = obj => \n\taxios.post(URL, obj).then(res => console.log(res))\n\nexport const del = id => \n  axios.delete(URL.concat(`${id}`)).then(res => console.log(res))\n\n","import React, { useState } from 'react'\nimport {post} from './database'\n\nconst msgStyle = {\n  color: 'green',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px',\n}\nconst Message = ({msg}) => (<div style={msgStyle} >{msg}</div>)\n\nconst prompt = (msg, set) => {\n\tset(<Message msg={msg} />)\n\tsetTimeout(() => set(null), 5000)\n}\n\nexport const PersonForm = ({persons, setPersons}) => {\n\tconst defaultName = 'nimi'\n\tconst defaultNum = 'numero'\n\tconst [ newName, setNewName ] = useState(defaultName)\n\tconst [ newNum, setNewNum ] = useState(defaultNum)\n\tconst [message, setMessage] = useState(null)\n      \n\tconst addPerson = (event) => {\n\t  event.preventDefault()\n\t  const person = {\n\t    name: newName,\n\t    number: newNum\n\t  }\n\t  if (persons.some(p => p.name === person.name)){\n\t\t\t//alert(`${newName} on jo luettelossa`)\n\t\t\tconst prompt = `${newName} on jo luettelossa, korvataanko vanha numero uudella?`\n\t\t\tif(window.confirm(prompt))\n\t\t\t\tsetPersons(\n\t\t\t\t\tpersons.filter(p => p.name !== person.name).concat(person)\n\t\t\t\t)\n\t\t\t\n\t  }else{\n\t\t\tsetPersons(persons.concat(person))\n\t\t\tpost(person)\n\t\t\tsetNewName(defaultName)\n\t\t\tsetNewNum(defaultNum)\n\t\t}\n\t\tprompt(`Lisättiin ${person.name}`, setMessage)\n\t}\n\tconst handlePersonChange = (event) => {\n\t  setNewName(event.target.value)\n\t}\n\tconst handleNumChange = (event) => {\n\t  setNewNum(event.target.value)\n\t}\n\treturn(\n\t  <div>\n\t    <h3>Uusi henkilö</h3>\n\t\t\t{message}\n\t    <form onSubmit={addPerson}>\n\t      <input value={newName} onChange={handlePersonChange} /> \n\t      <input value={newNum} onChange={handleNumChange} /> \n\t      <button type=\"submit\">lisää</button>\n\t    </form>\n\t  </div>\n\t)\n}","import React, { useState } from 'react'\n\n\nexport const SearchForm = ({persons}) => {\n  const [ results, setResults ] = useState([])\n  const handleChange = (event) => {\n    const text = event.target.value\n    if(text === ''){\n      setResults([])\n    }else{\n      setResults(persons.filter(\n        p => p.name.includes(text) || p.number.includes(text))\n      )\n    }\n  }\n  return (\n    <div>\n      <h3>Etsi</h3>\n      <input onChange={handleChange} />\n      <ul>\n        {results.map(res => <li key={res.name} > {res.name} {res.number} </li>)}\n      </ul>\n    </div>\n  )\n}","import React, { useState, useEffect } from 'react'\nimport {PersonForm} from './personForm'\nimport {SearchForm} from './searchForm'\nimport {get, del} from './database'\n\nconst Person = ({person, rm}) => (\n  <li> \n    {person.name} {person.number}\n    <button onClick={() => rm(person)} >poista</button> \n  </li>\n)\n\nconst Persons = ({persons, rm}) => {\n  return (\n    <div>\n      <h3>Numerot</h3>\n      <ul>\n        {persons.map(person => <Person key={person.name} person={person} rm={rm} />)}\n      </ul>\n    </div>\n  )\n}\n\nconst prompt = (msg, set) => {\n  set(<Message msg={msg} />)\n  setTimeout(() => set(null), 5000)\n}\n    \nconst msgStyle = {\n  color: 'red',\n  background: 'lightgrey',\n  fontSize: '20px',\n  borderStyle: 'solid',\n  borderRadius: '5px',\n  padding: '10px',\n  marginBottom: '10px',\n}\nconst Message = ({msg}) => (<div style={msgStyle} >{msg}</div>)\n\nexport const App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [message, setMessage] = useState(null)\n  useEffect(()=>{get(setPersons)},[])\n\n  const rm = person => {\n    if(!window.confirm(`poistetaanko ${person.name}`))\n      return\n    const id = person.id\n    setPersons(persons.filter(p => p.id != id))\n    del(id).catch(err =>{\n      prompt(`${person.name} already deleted`, setMessage)\n    })\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      {message}\n      <SearchForm persons={persons} />\n      <PersonForm persons={persons} setPersons={setPersons} />\n      <Persons persons={persons} rm={rm} />\n    </div>\n  )\n\n}\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {App} from './app'\n\nReactDOM.render(<App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}